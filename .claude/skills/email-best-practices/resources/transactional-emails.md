# トランザクショナルメールのベストプラクティス

ユーザーが期待し必要とする、明確でアクション指向のメール — パスワードリセット、確認、OTP。

## 基本原則

1. **創造性より明確さ** - ユーザーが素早く理解し行動できることが重要
2. **アクション指向** - 明確な目的、分かりやすい主要アクション
3. **時間的に重要** - 即座に送信（数秒以内）

## 件名

**具体的でコンテキストを含める:**

| ✅ 良い例 | ❌ 悪い例 |
|---------|--------|
| [アプリ名] のパスワードをリセット | 対応が必要です |
| 注文 #12345 が発送されました | ご注文の更新 |
| [アプリ名] の 2FA コード | セキュリティコード: 12345 |
| [アプリ名] のメールアドレスを確認 | メールを確認してください |

必要に応じて識別子を含める: 注文番号、アカウント名、有効期限。

## プリヘッダー

件名の後に表示されるテキストスニペット。用途:
- 件名の補強（「このリンクの有効期限は 1 時間です」）
- 緊急性やコンテキストの追加
- CTA のプレビュー

90 文字以内に収める。

## コンテンツ構成

**ファーストビュー（最初の画面）:**
- 明確な目的
- 主要アクションボタン
- 時間的に重要な詳細（有効期限）

**階層構造:** ヘッダー → メインメッセージ → 詳細 → アクションボタン → 補足情報

**フォーマット:** 短い段落（2〜3 文）、箇条書き、強調は太字、余白を活用。

## モバイルファーストデザイン

60% 以上のメールがモバイルで開封される。

- **レイアウト:** シングルカラム、縦方向にスタック
- **ボタン:** 最小 44x44px、モバイルでは全幅
- **テキスト:** 本文は最小 16px、見出しは 20-24px
- **OTP コード:** 24-32px、等幅フォント

## 送信者設定

| フィールド | ベストプラクティス | 例 |
|-------|--------------|---------|
| 差出人名 | アプリ/企業名、一貫性を保つ | [アプリ名] |
| 差出人メール | サブドメイン、実在するアドレス | hello@mail.yourdomain.com |
| Reply-To | 監視されている受信箱 | support@yourdomain.com |

`noreply@` は避ける — ユーザーはトランザクショナルメールに返信することがある。

## コードとリンクの表示

**OTP/確認コード:**
- 大きく表示（24-32px）、等幅フォント
- 中央揃え、明確なラベル
- 有効期限を近くに表示
- コピー可能にする

**ボタン:**
- 大きく、タップしやすい（44x44px 以上）
- コントラストのある色
- 明確なアクションテキスト（「パスワードをリセット」「メールを確認」）
- HTTPS リンクのみ

## エラーハンドリング

**再送機能:**
- 60 秒後に許可
- 試行回数を制限（1 時間に 3 回）
- カウントダウンタイマーを表示

**期限切れリンク:**
- 明確な「期限切れ」メッセージ
- 新しいリンクの送信を提案
- サポート連絡先を提供

**「心当たりがない場合」:**
- パスワードリセット、OTP、セキュリティアラートに含める
- セキュリティ連絡先へのリンク
- クリックをログに記録して監視
